# Epic 3 快速测试指南

## 5分钟快速测试

### 1. 启动应用
```bash
cd web
npm install  # 如果还没安装依赖
npm run dev
```

### 2. 登录应用
- 访问 `http://localhost:5173`
- 如果已设置密码，直接登录
- 如果未设置密码，先设置密码

### 3. 测试核心功能（按顺序）

#### ✅ 测试1: 手动输入（1分钟）
1. 点击首页的"记账"卡片
2. 点击"新建账目"
3. 填写：金额 `100`，日期今天，类别"餐饮"，备注"测试"
4. 点击"确认入账"
5. **验证**：账目出现在列表中

#### ✅ 测试2: 编辑和删除（1分钟）
1. 在列表中点击"编辑"按钮
2. 修改金额为 `200`
3. 点击"保存"
4. **验证**：列表中金额已更新
5. 点击"删除"按钮
6. 确认删除
7. **验证**：账目从列表中消失

#### ✅ 测试3: 搜索筛选（1分钟）
1. 创建几条不同类别和日期的账目
2. 在搜索框输入"餐饮"
3. **验证**：只显示餐饮类账目
4. 选择类别筛选"购物"
5. **验证**：只显示购物类账目
6. 点击"清除"
7. **验证**：显示所有账目

#### ✅ 测试4: 发票扫描（1分钟）
1. 点击"发票扫描"或从创建表单进入
2. 点击"选择图片"
3. 选择一张清晰的发票图片（如果没有，可以跳过）
4. 点击"识别发票"
5. **验证**：识别结果填充到表单
6. 点击"确认入账"

#### ✅ 测试5: 语音输入（1分钟）
1. 点击"语音输入"（需要Chrome/Edge浏览器）
2. 点击麦克风图标
3. 说出："花了50元，餐饮，今天"
4. **验证**：识别结果填充到表单
5. 点击"确认入账"

#### ✅ 测试6: 短信解析（1分钟）
1. 点击"短信解析"
2. 粘贴测试短信：
   ```
   支付宝向XXX餐厅支付了88.50元，时间：2026-01-26 12:30
   ```
3. 点击"解析短信"
4. **验证**：金额、日期、商户信息被正确解析
5. 点击"确认入账"

---

## 浏览器控制台快速验证

在浏览器控制台运行：

```javascript
// 快速验证脚本
(async () => {
  const db = await new Promise(r => {
    const req = indexedDB.open('greenprj_db', 1)
    req.onsuccess = () => r(req.result)
  })
  const tx = db.transaction(['accounts'], 'readonly')
  const count = await new Promise(r => {
    tx.objectStore('accounts').count().onsuccess = e => r(e.target.result)
  })
  console.log(`✅ 账目总数: ${count}`)
  db.close()
})()
```

---

## 测试检查清单

- [ ] 手动输入记账
- [ ] 账目列表显示
- [ ] 编辑账目
- [ ] 删除账目
- [ ] 搜索功能
- [ ] 类别筛选
- [ ] 日期筛选
- [ ] 发票扫描（可选）
- [ ] 语音输入（可选，需要Chrome/Edge）
- [ ] 短信解析

---

## 常见问题

**Q: OCR识别很慢？**
A: 首次使用需要下载中文语言包，请耐心等待。后续会更快。

**Q: 语音识别不工作？**
A: 需要Chrome或Edge浏览器，并授予麦克风权限。

**Q: 数据没有加密？**
A: 确保已登录，密码会临时存储在session中用于加密。

**Q: 找不到某些功能？**
A: 检查是否已登录，某些功能需要认证后才能访问。
